<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Form Input Pasien - Mario Hospital</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        .required::after {
            content: " *";
            color: #ef4444;
        }
    </style>
</head>

<body class="bg-gray-100">
    <div class="flex h-screen">
        <aside class="w-64 bg-white shadow-md flex flex-col">
            <div class="p-6 text-2xl font-bold text-gray-800">
                Mario Hospital
            </div>
            <nav class="flex-1 px-4">
                <p class="text-gray-500 text-xs uppercase tracking-wider mb-2">Menu</p>
                <a class="flex items-center p-2 text-gray-600 rounded-lg hover:bg-gray-200" href="#">
                    <span class="material-icons">dashboard</span>
                    <span class="ml-3">Dashboard</span>
                </a>
                <a class="flex items-center p-2 text-blue-600 bg-blue-100 rounded-lg font-semibold" href="#">
                    <span class="material-icons">people</span>
                    <span class="ml-3">Patients</span>
                </a>
                <a class="flex items-center p-2 text-gray-600 rounded-lg hover:bg-gray-200" href="#">
                    <span class="material-icons">calendar_today</span>
                    <span class="ml-3">Appointments</span>
                </a>
                <a class="flex items-center p-2 text-gray-600 rounded-lg hover:bg-gray-200" href="#">
                    <span class="material-icons">badge</span>
                    <span class="ml-3">Staff</span>
                </a>
                <a class="flex items-center p-2 text-gray-600 rounded-lg hover:bg-gray-200" href="#">
                    <span class="material-icons">meeting_room</span>
                    <span class="ml-3">Room Allotment</span>
                </a>
                <a class="flex items-center p-2 text-gray-600 rounded-lg hover:bg-gray-200" href="#">
                    <span class="material-icons">payment</span>
                    <span class="ml-3">Payment</span>
                </a>
                <p class="text-gray-500 text-xs uppercase tracking-wider mt-6 mb-2">Appearance</p>
                <a class="flex items-center p-2 text-gray-600 rounded-lg hover:bg-gray-200" href="#">
                    <span class="material-icons">person</span>
                    <span class="ml-3">Profile</span>
                </a>
                <a class="flex items-center p-2 text-gray-600 rounded-lg hover:bg-gray-200" href="#">
                    <span class="material-icons">settings</span>
                    <span class="ml-3">Settings</span>
                </a>
                <a class="flex items-center p-2 text-gray-600 rounded-lg hover:bg-gray-200" href="#">
                    <span class="material-icons">help_outline</span>
                    <span class="ml-3">Support</span>
                </a>
            </nav>
            <div class="p-4 border-t">
                <a class="flex items-center text-red-500" href="#">
                    <span class="material-icons">logout</span>
                    <span class="ml-3">Logout</span>
                </a>
            </div>
        </aside>

        <main class="flex-1 p-8 overflow-y-auto" x-data="{ 
            sameAsKTP: true,
            profileImage: null,
            allergies: [
                { name: '', reaction: '', severity: 'ringan' }
            ],
            guarantors: [
                { type: 'asuransi', name: '', details: {} }
            ]
        }">
            <header class="flex justify-between items-center mb-8">
                <div class="flex items-center space-x-4">
                    <button class="p-2 rounded-full hover:bg-gray-200">
                        <span class="material-icons text-gray-600">arrow_back</span>
                    </button>
                    <h1 class="text-3xl font-bold text-gray-800">Form Input Data Pasien</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="p-2 rounded-full hover:bg-gray-200">
                        <span class="material-icons text-gray-600">dark_mode</span>
                    </button>
                    <div class="flex items-center space-x-2">
                        <div class="w-10 h-10 rounded-full bg-gray-300">
                            <img alt="Admin avatar" class="w-10 h-10 rounded-full object-cover"
                                src="https://lh3.googleusercontent.com/a-/ACNPEu8_3pA4Z3-2nC_Ie_s3yOEdei288CqJz2JqI-yG=s96-c" />
                        </div>
                        <span class="font-semibold text-gray-700">Alexa</span>
                    </div>
                </div>
            </header>

            <div class="flex gap-8">
                <!-- Left Column - Profile & Basic Info -->
                <div class="w-1/3">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <!-- Profile Photo Section -->
                        <div class="flex flex-col items-center mb-6">
                            <div class="relative mb-4">
                                <div
                                    class="w-36 h-36 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden">
                                    <img x-show="profileImage" :src="profileImage" class="w-full h-full object-cover"
                                        alt="Profile Preview">
                                    <span x-show="!profileImage"
                                        class="material-icons text-6xl text-gray-400">person</span>
                                </div>
                                <input type="file" id="profile-photo" accept="image/*" class="hidden"
                                    @change="const file = $event.target.files[0]; if(file) { const reader = new FileReader(); reader.onload = e => profileImage = e.target.result; reader.readAsDataURL(file); }">
                                <label for="profile-photo"
                                    class="absolute bottom-0 right-0 bg-blue-500 p-2 rounded-full text-white cursor-pointer">
                                    <span class="material-icons text-base">edit</span>
                                </label>
                            </div>
                            <input type="text"
                                class="text-xl font-bold text-gray-800 text-center border-b border-transparent focus:border-gray-300 bg-transparent"
                                placeholder="Nama Lengkap Pasien" style="outline: none;">
                            <input type="text"
                                class="text-blue-500 text-center border-b border-transparent focus:border-gray-300 bg-transparent mt-1"
                                placeholder="MRN (Auto Generate)" readonly style="outline: none;">
                        </div>

                        <!-- Basic Info -->
                        <div class="w-full space-y-4 text-sm">
                            <div class="flex items-center">
                                <span class="material-icons text-gray-500 mr-3">badge</span>
                                <input class="w-full p-2 border border-gray-300 rounded-md" type="text"
                                    placeholder="NIK (16 digit)" maxlength="16" />
                            </div>
                            <div class="flex items-center">
                                <span class="material-icons text-gray-500 mr-3">phone</span>
                                <input class="w-full p-2 border border-gray-300 rounded-md" type="tel"
                                    placeholder="Nomor HP" />
                            </div>
                            <div class="flex items-center">
                                <span class="material-icons text-gray-500 mr-3">wc</span>
                                <select class="w-full p-2 border border-gray-300 rounded-md">
                                    <option value="">Pilih Jenis Kelamin</option>
                                    <option value="laki-laki">Laki-laki</option>
                                    <option value="perempuan">Perempuan</option>
                                </select>
                            </div>
                            <div class="flex items-center">
                                <span class="material-icons text-gray-500 mr-3">cake</span>
                                <input class="w-full p-2 border border-gray-300 rounded-md" type="date" />
                            </div>
                            <div class="flex items-start">
                                <span class="material-icons text-gray-500 mr-3 mt-2">location_on</span>
                                <textarea class="w-full p-2 border border-gray-300 rounded-md" rows="3"
                                    placeholder="Alamat Lengkap"></textarea>
                            </div>
                            <div class="flex items-center">
                                <span class="material-icons text-gray-500 mr-3">monitor_heart</span>
                                <div class="w-full">
                                    <label class="block text-gray-600 mb-1">Status Pasien</label>
                                    <select class="w-full p-2 border border-gray-300 rounded-md">
                                        <option class="text-green-600" value="aktif">Aktif</option>
                                        <option class="text-yellow-600" value="tidak-aktif">Tidak Aktif</option>
                                        <option class="text-red-600" value="suspend">Suspend</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="w-full mt-8">
                            <p class="text-gray-600 font-semibold mb-2">Aksi</p>
                            <button type="submit"
                                class="w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition duration-300">
                                Simpan Data Pasien
                            </button>
                            <button type="button"
                                class="w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 mt-2 transition duration-300">
                                Batal
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Detailed Information -->
                <div class="w-2/3">
                    <div class="bg-white rounded-lg shadow-md">
                        <!-- Tab Navigation -->
                        <div class="border-b">
                            <nav class="flex space-x-8 px-6">
                                <a class="py-4 text-blue-600 border-b-2 border-blue-600 font-semibold flex items-center"
                                    href="#">
                                    <span class="material-icons mr-2 text-sm">person</span>
                                    Detail Pasien
                                </a>
                                <a class="py-4 text-gray-500 hover:text-gray-700 flex items-center" href="#">
                                    <span class="material-icons mr-2 text-sm">medical_services</span>
                                    Riwayat Medis
                                </a>
                                <a class="py-4 text-gray-500 hover:text-gray-700 flex items-center" href="#">
                                    <span class="material-icons mr-2 text-sm">security</span>
                                    Penjamin
                                </a>
                                <a class="py-4 text-gray-500 hover:text-gray-700 flex items-center" href="#">
                                    <span class="material-icons mr-2 text-sm">assignment</span>
                                    General Consent
                                </a>
                            </nav>
                        </div>

                        <div class="p-6 space-y-8">
                            <!-- General Patient Identity -->
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-6">General Patient Identity</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="other_identity_number">Other Identity Number (Passport/KITAS)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="other_identity_number" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="mother_full_name">Mother's Full Name <span
                                                class="text-red-500">*</span></label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="mother_full_name" type="text" required />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="place_of_birth">Place of Birth <span
                                                class="text-red-500">*</span></label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="place_of_birth" type="text" required />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="religion">Religion</label>
                                        <select
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="religion">
                                            <option value="">Select Religion</option>
                                            <option value="Islam">Islam</option>
                                            <option value="Christianity">Christianity</option>
                                            <option value="Catholicism">Catholicism</option>
                                            <option value="Hinduism">Hinduism</option>
                                            <option value="Buddhism">Buddhism</option>
                                            <option value="Confucianism">Confucianism</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="other_religion">Other Religion</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="other_religion" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="ethnicity">Ethnicity</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="ethnicity" type="text" />
                                    </div>
                                    <div class="lg:col-span-3">
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="language_proficiency">Language Proficiency</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="language_proficiency" type="text"
                                            placeholder="Example: Indonesian, English, Sundanese" />
                                    </div>
                                </div>
                            </div>

                            <!-- Address from ID/Residence -->
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-6">Address from ID/Residence</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    <div class="lg:col-span-3">
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="full_address_id">Full Address (ID Card) <span
                                                class="text-red-500">*</span></label>
                                        <textarea
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="full_address_id" rows="3" required></textarea>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="rt_id">Neighborhood / RT (ID Card)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="rt_id" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="rw_id">Community Unit / RW (ID Card)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="rw_id" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="village_id">Village/Sub-district (ID Card)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="village_id" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="district_id">District (ID Card)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="district_id" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="city_id">City/Regency (ID Card) <span
                                                class="text-red-500">*</span></label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="city_id" type="text" required />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="postal_code_id">Postal Code (ID Card)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="postal_code_id" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="province_id">Province (ID Card) <span
                                                class="text-red-500">*</span></label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="province_id" type="text" required />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="country_id">Country (ID Card)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="country_id" type="text" value="Indonesia" />
                                    </div>
                                </div>
                            </div>

                            <!-- Current Residence/Domicile -->
                            <div>
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-lg font-bold text-gray-800">Current Residence/Domicile</h3>
                                    <label class="flex items-center">
                                        <input type="checkbox" x-model="sameAsKTP"
                                            class="mr-2 rounded focus:ring-blue-500">
                                        <span class="text-sm text-gray-700">Same as ID Address</span>
                                    </label>
                                </div>

                                <div x-show="!sameAsKTP" x-transition
                                    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    <div class="lg:col-span-3">
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="current_address">Current Address (Domicile)</label>
                                        <textarea
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="current_address" rows="3"></textarea>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="rt_domicile">Neighborhood / RT (Domicile)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="rt_domicile" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="rw_domicile">Community Unit / RW (Domicile)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="rw_domicile" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="village_domicile">Village/Sub-district (Domicile)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="village_domicile" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="district_domicile">District (Domicile)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="district_domicile" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="city_domicile">City/Regency (Domicile)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="city_domicile" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="postal_code_domicile">Postal Code (Domicile)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="postal_code_domicile" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="province_domicile">Province (Domicile)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="province_domicile" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="country_domicile">Country (Domicile)</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="country_domicile" type="text" value="Indonesia" />
                                    </div>
                                </div>

                                <div x-show="sameAsKTP" class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg">
                                    <p class="text-sm text-blue-800">Current address will use the same ID card address
                                    </p>
                                </div>
                            </div>

                            <!-- Contact Information -->
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-6">Contact Information</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="home_phone">Home Phone Number</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="home_phone" type="tel" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="education">Education</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="education" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="occupation">Occupation</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="occupation" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="other_occupation">Other Occupation</label>
                                        <input
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="other_occupation" type="text" />
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2"
                                            for="marital_status">Marital Status</label>
                                        <select
                                            class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"
                                            id="marital_status">
                                            <option value="">Select Status</option>
                                            <option value="Single">Single</option>
                                            <option value="Married">Married</option>
                                            <option value="Divorced">Divorced</option>
                                            <option value="Widowed">Widowed</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Additional Notes -->
                            <div>
                                <h3 class="text-lg font-bold text-gray-800 mb-6">Additional Notes</h3>

                                <div class="mb-6">
                                    <label class="block text-sm font-medium text-gray-700 mb-2"
                                        for="patient_notes">Notes</label>
                                    <textarea
                                        class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm resize-none"
                                        id="patient_notes" rows="6"
                                        placeholder="Enter any additional information about the patient including medical history, allergies, special requirements, emergency contacts, or other important notes..."></textarea>
                                    <p class="text-xs text-gray-500 mt-2">Include medical history, allergies,
                                        medications, special requirements, or any other relevant information</p>
                                </div>

                                <!-- Notes Guidelines -->
                                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                    <div class="flex items-start">
                                        <span class="material-icons text-yellow-500 mr-3 mt-0.5">info</span>
                                        <div>
                                            <h4 class="text-sm font-semibold text-yellow-800 mb-2">Note Guidelines:</h4>
                                            <ul class="text-sm text-yellow-700 space-y-1">
                                                <li>• Be specific and accurate with all information</li>
                                                <li>• Use clear, professional language</li>
                                                <li>• Include dates when relevant</li>
                                                <li>• Separate different types of information clearly</li>
                                                <li>• Review notes for accuracy before saving</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script defer src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js"></script>
    <script>
        // Form validation and submission handling
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.querySelector('main');

            // Submit button event
            const submitButton = document.querySelector('button[type="submit"]');
            if (submitButton) {
                submitButton.addEventListener('click', function (e) {
                    e.preventDefault();

                    // Basic validation
                    const requiredFields = form.querySelectorAll('[required], .required input, .required select, .required textarea');
                    let isValid = true;

                    requiredFields.forEach(field => {
                        if (!field.value.trim()) {
                            field.classList.add('border-red-500');
                            isValid = false;
                        } else {
                            field.classList.remove('border-red-500');
                        }
                    });

                    if (isValid) {
                        // Here you would typically send the data to your backend
                        alert('Data pasien berhasil disimpan!');
                        // window.location.href = 'patient-list.html'; // Redirect to patient list
                    } else {
                        alert('Mohon lengkapi semua field yang wajib diisi (marked with *)');
                    }
                });
            }

            // NIK validation (must be 16 digits)
            form.addEventListener('input', function (e) {
                if (e.target.placeholder && e.target.placeholder.includes('NIK')) {
                    const value = e.target.value.replace(/\D/g, ''); // Remove non-digits
                    e.target.value = value;

                    if (value.length === 16) {
                        e.target.classList.remove('border-red-500');
                        e.target.classList.add('border-green-500');
                    } else if (value.length > 0) {
                        e.target.classList.add('border-red-500');
                        e.target.classList.remove('border-green-500');
                    }
                }
            });

            // Phone number formatting
            form.addEventListener('input', function (e) {
                if (e.target.type === 'tel') {
                    let value = e.target.value.replace(/\D/g, '');

                    // Format Indonesian phone numbers
                    if (value.startsWith('62')) {
                        value = '+' + value;
                    } else if (value.startsWith('0')) {
                        // Keep as is for local format
                    } else if (value.length > 0) {
                        value = '0' + value;
                    }

                    e.target.value = value;
                }
            });

            // Auto-generate MRN
            function generateMRN() {
                const now = new Date();
                const year = now.getFullYear();
                const month = String(now.getMonth() + 1).padStart(2, '0');
                const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
                return `MR-${year}-${month}${random}`;
            }

            // Set MRN on page load
            const mrnField = document.querySelector('input[placeholder="MRN (Auto Generate)"]');
            if (mrnField) {
                mrnField.value = generateMRN();
            }

            // Set default country
            const countryFields = document.querySelectorAll('input[value="Indonesia"]');
            countryFields.forEach(field => {
                if (!field.value) {
                    field.value = 'Indonesia';
                }
            });
        });
    </script>
</body>

</html>